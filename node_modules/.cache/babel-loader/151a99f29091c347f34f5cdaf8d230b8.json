{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _core = require(\"@js-joda/core\");\n\nvar _writableTrackingBuffer = _interopRequireDefault(require(\"../tracking-buffer/writable-tracking-buffer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nconst EPOCH_DATE = _core.LocalDate.ofYearDay(1, 1);\n\nconst DateTime2 = {\n  id: 0x2A,\n  type: 'DATETIME2N',\n  name: 'DateTime2',\n  declaration: function (parameter) {\n    return 'datetime2(' + this.resolveScale(parameter) + ')';\n  },\n  resolveScale: function (parameter) {\n    if (parameter.scale != null) {\n      return parameter.scale;\n    } else if (parameter.value === null) {\n      return 0;\n    } else {\n      return 7;\n    }\n  },\n\n  generateTypeInfo(parameter, _options) {\n    return Buffer.from([this.id, parameter.scale]);\n  },\n\n  *generateParameterData(parameter, options) {\n    const value = parameter.value;\n    let scale = parameter.scale;\n\n    if (value != null) {\n      const buffer = new _writableTrackingBuffer.default(16);\n      scale = scale;\n      let timestamp;\n\n      if (options.useUTC) {\n        timestamp = ((value.getUTCHours() * 60 + value.getUTCMinutes()) * 60 + value.getUTCSeconds()) * 1000 + value.getUTCMilliseconds();\n      } else {\n        timestamp = ((value.getHours() * 60 + value.getMinutes()) * 60 + value.getSeconds()) * 1000 + value.getMilliseconds();\n      }\n\n      timestamp = timestamp * Math.pow(10, scale - 3);\n      timestamp += (value.nanosecondDelta != null ? value.nanosecondDelta : 0) * Math.pow(10, scale);\n      timestamp = Math.round(timestamp);\n\n      switch (scale) {\n        case 0:\n        case 1:\n        case 2:\n          buffer.writeUInt8(6);\n          buffer.writeUInt24LE(timestamp);\n          break;\n\n        case 3:\n        case 4:\n          buffer.writeUInt8(7);\n          buffer.writeUInt32LE(timestamp);\n          break;\n\n        case 5:\n        case 6:\n        case 7:\n          buffer.writeUInt8(8);\n          buffer.writeUInt40LE(timestamp);\n      }\n\n      let date;\n\n      if (options.useUTC) {\n        date = _core.LocalDate.of(value.getUTCFullYear(), value.getUTCMonth() + 1, value.getUTCDate());\n      } else {\n        date = _core.LocalDate.of(value.getFullYear(), value.getMonth() + 1, value.getDate());\n      }\n\n      const days = EPOCH_DATE.until(date, _core.ChronoUnit.DAYS);\n      buffer.writeUInt24LE(days);\n      yield buffer.data;\n    } else {\n      const buffer = new _writableTrackingBuffer.default(1);\n      buffer.writeUInt8(0);\n      yield buffer.data;\n    }\n  },\n\n  validate: function (value) {\n    if (value == null) {\n      return null;\n    }\n\n    if (!(value instanceof Date)) {\n      value = new Date(Date.parse(value));\n    }\n\n    if (isNaN(value)) {\n      return new TypeError('Invalid date.');\n    }\n\n    return value;\n  }\n};\nvar _default = DateTime2;\nexports.default = _default;\nmodule.exports = DateTime2;","map":{"version":3,"sources":["C:/Users/chant/Desktop/Bakery_ReactjsSourceCode/node_modules/tedious/lib/data-types/datetime2.js"],"names":["Object","defineProperty","exports","value","default","_core","require","_writableTrackingBuffer","_interopRequireDefault","obj","__esModule","EPOCH_DATE","LocalDate","ofYearDay","DateTime2","id","type","name","declaration","parameter","resolveScale","scale","generateTypeInfo","_options","Buffer","from","generateParameterData","options","buffer","timestamp","useUTC","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getHours","getMinutes","getSeconds","getMilliseconds","Math","pow","nanosecondDelta","round","writeUInt8","writeUInt24LE","writeUInt32LE","writeUInt40LE","date","of","getUTCFullYear","getUTCMonth","getUTCDate","getFullYear","getMonth","getDate","days","until","ChronoUnit","DAYS","data","validate","Date","parse","isNaN","TypeError","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _core = require(\"@js-joda/core\");\n\nvar _writableTrackingBuffer = _interopRequireDefault(require(\"../tracking-buffer/writable-tracking-buffer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst EPOCH_DATE = _core.LocalDate.ofYearDay(1, 1);\n\nconst DateTime2 = {\n  id: 0x2A,\n  type: 'DATETIME2N',\n  name: 'DateTime2',\n  declaration: function (parameter) {\n    return 'datetime2(' + this.resolveScale(parameter) + ')';\n  },\n  resolveScale: function (parameter) {\n    if (parameter.scale != null) {\n      return parameter.scale;\n    } else if (parameter.value === null) {\n      return 0;\n    } else {\n      return 7;\n    }\n  },\n\n  generateTypeInfo(parameter, _options) {\n    return Buffer.from([this.id, parameter.scale]);\n  },\n\n  *generateParameterData(parameter, options) {\n    const value = parameter.value;\n    let scale = parameter.scale;\n\n    if (value != null) {\n      const buffer = new _writableTrackingBuffer.default(16);\n      scale = scale;\n      let timestamp;\n\n      if (options.useUTC) {\n        timestamp = ((value.getUTCHours() * 60 + value.getUTCMinutes()) * 60 + value.getUTCSeconds()) * 1000 + value.getUTCMilliseconds();\n      } else {\n        timestamp = ((value.getHours() * 60 + value.getMinutes()) * 60 + value.getSeconds()) * 1000 + value.getMilliseconds();\n      }\n\n      timestamp = timestamp * Math.pow(10, scale - 3);\n      timestamp += (value.nanosecondDelta != null ? value.nanosecondDelta : 0) * Math.pow(10, scale);\n      timestamp = Math.round(timestamp);\n\n      switch (scale) {\n        case 0:\n        case 1:\n        case 2:\n          buffer.writeUInt8(6);\n          buffer.writeUInt24LE(timestamp);\n          break;\n\n        case 3:\n        case 4:\n          buffer.writeUInt8(7);\n          buffer.writeUInt32LE(timestamp);\n          break;\n\n        case 5:\n        case 6:\n        case 7:\n          buffer.writeUInt8(8);\n          buffer.writeUInt40LE(timestamp);\n      }\n\n      let date;\n\n      if (options.useUTC) {\n        date = _core.LocalDate.of(value.getUTCFullYear(), value.getUTCMonth() + 1, value.getUTCDate());\n      } else {\n        date = _core.LocalDate.of(value.getFullYear(), value.getMonth() + 1, value.getDate());\n      }\n\n      const days = EPOCH_DATE.until(date, _core.ChronoUnit.DAYS);\n      buffer.writeUInt24LE(days);\n      yield buffer.data;\n    } else {\n      const buffer = new _writableTrackingBuffer.default(1);\n      buffer.writeUInt8(0);\n      yield buffer.data;\n    }\n  },\n\n  validate: function (value) {\n    if (value == null) {\n      return null;\n    }\n\n    if (!(value instanceof Date)) {\n      value = new Date(Date.parse(value));\n    }\n\n    if (isNaN(value)) {\n      return new TypeError('Invalid date.');\n    }\n\n    return value;\n  }\n};\nvar _default = DateTime2;\nexports.default = _default;\nmodule.exports = DateTime2;"]},"metadata":{},"sourceType":"script"}