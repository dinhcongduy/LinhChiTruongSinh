{"ast":null,"code":"import _defineProperty from\"C:/Users/chant/Desktop/Bakery_ReactjsSourceCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/Users/chant/Desktop/Bakery_ReactjsSourceCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/chant/Desktop/Bakery_ReactjsSourceCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/chant/Desktop/Bakery_ReactjsSourceCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:/Users/chant/Desktop/Bakery_ReactjsSourceCode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from'react';import clsx from'clsx';import moment from'moment';import PerfectScrollbar from'react-perfect-scrollbar';import{Avatar,Box,Card,Link,Table,TableBody,TableCell,TableHead,TablePagination,TableRow,Typography,makeStyles,MenuItem,Menu,Drawer,Button,TextField,FormControlLabel,DialogTitle,DialogContent,DialogContentText,DialogActions,Dialog,Grid,TableContainer,Paper,CardContent}from'@material-ui/core';import{SearchIcon}from'@material-ui/data-grid';import IconButton from'@material-ui/core/IconButton';import MoreVertIcon from'@material-ui/icons/MoreVert';import DeleteIcon from'@material-ui/icons/Delete';import FullScreenDialog from'src/views/layout_docs/air_export/FreightListView/HAWB/FullScreenDialog';import PrintCenterDialog from'src/views/layout_docs/air_export/FreightListView/HAWB/PrintCenterDialog';import{LinkApi}from'src/utils/api/api-link';import{GET,POST}from'src/utils/api/method';import PrintMAWB from'src/views/layout_docs/air_export/FreightListView/PrintMAWB';import{InputLabelCustom}from'src/components/custom/inputtxt';import PrintInvoice from'./PrintInvoice';import MAWB from'./MAWB';var useStyles=makeStyles(function(theme){return{root:{},avatar:{marginRight:theme.spacing(2)},table:{width:600}};});var ITEM_HEIGHT=48;var Results=function Results(_ref){var className=_ref.className,newaddedOrder=_ref.newaddedOrder,customers=_ref.customers,rest=_objectWithoutProperties(_ref,[\"className\",\"newaddedOrder\",\"customers\"]);var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedCustomerIds=_useState2[0],setSelectedCustomerIds=_useState2[1];var _useState3=useState(5),_useState4=_slicedToArray(_useState3,2),limit=_useState4[0],setLimit=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var openMenu=Boolean(anchorEl);var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),opendialog=_React$useState4[0],setOpendialog=_React$useState4[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),selectedItem=_useState10[0],setSelectedItem=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),opensides=_useState12[0],setopenside=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),selectedMenuItem=_useState14[0],setSelectedMenuItem=_useState14[1];var _useState15=useState(moment(new Date(),'YYYY-MM-DD').format().substring(0,10)),_useState16=_slicedToArray(_useState15,2),searchDate=_useState16[0],setsearchDate=_useState16[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),openViewChange=_React$useState6[0],setopenViewChange=_React$useState6[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),lichsuthaydoi=_useState18[0],setlichsuthaydoi=_useState18[1];useEffect(function(){makeRemoteRequest();},[]);var makeRemoteRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return GET(LinkApi.order_getBydate+searchDate);case 2:res=_context.sent;if(res!==undefined){setData(res);// setLoading(false);\n//setRefreshing(false);\n//setData(page === 1 ? res : [...data, ...res]);\n//setpagesize(res.length)}else{\n//setLoading(false)\n}/*setLoading(true)\n    const staffId =await AsyncStorage.getItem('staffId')\n     var url=''\n    if(type==='totrinhnhan'){\n      url = urlAPI.totrinhNhanGetallPaging + `key=&status=-1&staffid=${staffId}&xem=-1&page=${page}&size=30`\n    }if(type==='totrinhgui'){\n       url = urlAPI.totrinhGuiGetallPaging + `key=&status=-1&staffid=${staffId}&xem=-1&page=${page}&size=30`\n    }\n  let hh =POST('http://103.114.104.246:8080/api-cargo-cs/api/login', \n    {\n      userName:\"admin\",\n      password:\"12345\"\n    })\n    const url = LinkApi.order_getall; \n    await fetch(url)\n        .then(res => res.json()) \n        .then(res => {\n         console.log(res);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n\n    /*if (res!==null) {\n      setLoading(false);\n      setRefreshing(false);\n      setData(page === 1 ? res : [...data, ...res]);\n      setpagesize(res.length)}else{\n      setLoading(false)\n    }\n    //\n\n    \n  /*  const url = `https://5f8abf3a84531500167061c7.mockapi.io/api/vbd/trichYeu?page=${page}&limit=1`;\n    setLoading(true);\n   // fetch(props.url)\n    fetch(url)\n        .then(res => res.json())\n        .then(res => {\n         // alert(res.length)\n          setLoading(false);\n          setRefreshing(false);\n          setError(res.error || null);\n          setData( page === 1 ? res : [...data, ...res]);\n          setpagesize(res.length)\n            //alert(data)\n        })\n        .catch(error => {\n           setLoading(false)\n        });*/case 4:case\"end\":return _context.stop();}}},_callee);}));return function makeRemoteRequest(){return _ref2.apply(this,arguments);};}();var getlichsu=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(item){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return GET(LinkApi.order_getLichSu+item.Code);case 2:res=_context2.sent;if(res!==undefined){setlichsuthaydoi(res);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getlichsu(_x){return _ref3.apply(this,arguments);};}();var handleSelectAll=function handleSelectAll(event){var newSelectedCustomerIds;if(event.target.checked){newSelectedCustomerIds=data.map(function(item){return item.id;});}else{newSelectedCustomerIds=[];}setSelectedCustomerIds(newSelectedCustomerIds);};var handleSelectOne=function handleSelectOne(event,id){var selectedIndex=selectedCustomerIds.indexOf(id);var newSelectedCustomerIds=[];if(selectedIndex===-1){newSelectedCustomerIds=newSelectedCustomerIds.concat(selectedCustomerIds,id);}else if(selectedIndex===0){newSelectedCustomerIds=newSelectedCustomerIds.concat(selectedCustomerIds.slice(1));}else if(selectedIndex===selectedCustomerIds.length-1){newSelectedCustomerIds=newSelectedCustomerIds.concat(selectedCustomerIds.slice(0,-1));}else if(selectedIndex>0){newSelectedCustomerIds=newSelectedCustomerIds.concat(selectedCustomerIds.slice(0,selectedIndex),selectedCustomerIds.slice(selectedIndex+1));}alert(newSelectedCustomerIds);setSelectedCustomerIds(newSelectedCustomerIds);};var handleLimitChange=function handleLimitChange(event){setLimit(event.target.value);};var handlePageChange=function handlePageChange(event,newPage){setPage(newPage);};var handleClick=function handleClick(_ref4){var event=_ref4.event;console.log(event);setAnchorEl(event.currentTarget);};var handleCloseLongMenu=function handleCloseLongMenu(){setAnchorEl(null);};var DeleteItem=function DeleteItem(_ref5){var orderz=_ref5.orderz;return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return alert(orderz.ID);}},\"Delete\");};var deleteItem=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return GET(LinkApi.order_del+selectedMenuItem.ID).then(function(respon){console.log(\"respon:\",respon);if(respon===\"SUCCESS\"){window.location.reload();setAnchorEl(null);}}).catch(function(error){return console.log(error);});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteItem(){return _ref6.apply(this,arguments);};}();var Payment=function Payment(_ref7){var item=_ref7.item;var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),open=_React$useState8[0],setOpen=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),openDetails=_React$useState10[0],setOpenDetails=_React$useState10[1];var _useState19=useState(Date(Date.now()).toString()),_useState20=_slicedToArray(_useState19,2),lastRefresh=_useState20[0],setlastRefresh=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),sotienthanhtoan=_useState22[0],setsotienthanhtoan=_useState22[1];var _useState23=useState('Tiền mặt'),_useState24=_slicedToArray(_useState23,2),hinhthucthanhtoan=_useState24[0],sethinhthucthanhtoan=_useState24[1];var _useState25=useState(''),_useState26=_slicedToArray(_useState25,2),dathanhtoan=_useState26[0],setdathanhtoan=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),conno=_useState28[0],setconno=_useState28[1];var _useState29=useState(''),_useState30=_slicedToArray(_useState29,2),ghichu=_useState30[0],setghichu=_useState30[1];var _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),itemPayed=_useState32[0],setitemPayed=_useState32[1];useEffect(function(){console.log(item);getItemPayment();},[]);var getItemPayment=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return GET(LinkApi.order_getByOrderId+item.ID).then(function(respon){setitemPayed(respon);//setlistPay(respon);\n//setlastRefresh(Date(Date.now()).toString()) \nvar tongdathanhtoan=0;var tienno=0;for(var i=0;i<respon.length;i++){tongdathanhtoan=respon[i].Amount+tongdathanhtoan;tienno=item.PriceTotal-tongdathanhtoan;}setdathanhtoan(tongdathanhtoan);setconno(tienno);//console.log(\"OK\", respon) \n});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function getItemPayment(){return _ref8.apply(this,arguments);};}();var paymentDetails=function paymentDetails(){};var handleSave=function handleSave(){var infoPayment={\"OrderId\":item.ID,\"PaymentType\":hinhthucthanhtoan==='Tiền mặt'?1:0,\"Amount\":sotienthanhtoan,\"PayDate\":moment(new Date(),'DD-MM-YYYY').format().substring(0,10)+\" \"+moment(new Date(),'DD-MM-YYYY').format().substring(11,19),\"Cashier\":\"Bưởi\",\"Created\":moment(new Date(),'DD-MM-YYYY').format().substring(0,10)+\" \"+moment(new Date(),'DD-MM-YYYY').format().substring(11,19),\"CreatedBy\":1,\"Modified\":null,\"ModifiedBy\":0,\"Note\":ghichu,\"OldId\":\"\"};var newPay=POST(LinkApi.pay_add,infoPayment).then(function(responsez){return window.location.reload();}).catch(function(error){return alert('error',error);});if(Number(sotienthanhtoan)>=Number(conno)){updateOrder('hetno');}//setOpen(false);\n};var updateOrder=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(string){var infoOrder,newOrder;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:infoOrder={\"ID\":item.ID,\"Code\":item.Code,//\"CustomerId\": 1,\n\"CustomerName\":item.CustomerName,\"CustomerPhone\":item.CustomerPhone,\"CustomerAddress\":item.CustomerAddress,\"UserId\":1,\"Description\":item.Description,\"LoiChuc\":item.LoiChuc,\"PriceTotal\":item.PriceTotal,\"IsConNo\":string==='hetno'?'0':'1',\"ShipEstimate\":item.ShipEstimate,\"ShipThat\":item.ShipThat,\"DeliveryNote\":item.DeliveryNote,\"Created\":item.Created,\"CreatedBy\":item.CreatedBy,\"Modified\":item.Modified,\"ModifiedBy\":item.ModifiedBy,\"Note\":item.Note};_context5.next=3;return POST(LinkApi.order_update,infoOrder).then(function(response){alert(\"luu thong tin thanh cong\");}).catch(function(error){return console.log('error2',error);});case 3:newOrder=_context5.sent;case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function updateOrder(_x2){return _ref9.apply(this,arguments);};}();var httt=[{key:1,ht:\"Tiền mặt\"},{key:2,ht:'Chuyển khoản'}];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dialog,{style:{width:800},open:openDetails,onClose:function onClose(){return setOpenDetails(false);},\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Thanh to\\xE1n \\u0111\\u01A1n h\\xE0ng \"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(DialogContentText,null,\"C\\xE1c kho\\u1EA3n thanh to\\xE1n cho \\u0111\\u01A1n h\\xE0ng s\\u1ED1 \",item.OrderID,\" c\\u1EE7a kh\\xE1ch h\\xE0ng \",item.CustomerName),/*#__PURE__*/React.createElement(TableContainer,{component:Paper},/*#__PURE__*/React.createElement(Table,{\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"S\\u1ED1 ti\\u1EC1n\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Thu ng\\xE2n\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Ng\\xE0y\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Ng\\u01B0\\u1EDDi t\\u1EA1o\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Ghi ch\\xFA\"))),/*#__PURE__*/React.createElement(TableBody,null,itemPayed.map(function(row){return/*#__PURE__*/React.createElement(TableRow,{key:row.ID},/*#__PURE__*/React.createElement(TableCell,{component:\"th\",scope:\"row\"},row.Amount.toLocaleString()),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.Cashier),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},moment(row.Created).format('HH:MM'),\" - \",moment(row.Created).format('DD/MM/YYYY')),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.CreatedBy),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.Note));}))))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setOpenDetails(false);},color:\"secondary\"},\"Tho\\xE1t\"))),/*#__PURE__*/React.createElement(Dialog,{open:open,onClose:function onClose(){return setOpen(false);},\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Thanh to\\xE1n \\u0111\\u01A1n h\\xE0ng \"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(DialogContentText,null,\"Thanh to\\xE1n cho \\u0111\\u01A1n h\\xE0ng s\\u1ED1 \",item.OrderID,\" c\\u1EE7a kh\\xE1ch h\\xE0ng \",item.CustomerName),/*#__PURE__*/React.createElement(DialogContentText,null,\"S\\u1ED1 ti\\u1EC1n c\\xF2n n\\u1EE3: \",conno.toLocaleString(),\" \\u0111 \\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/React.createElement(Link,{href:\"#\",onClick:function onClick(){return setsotienthanhtoan(conno);}},\"Copy\")),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,style:{backgroundColor:'',borderRadius:4}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,style:{height:250,backgroundColor:'',paddingTop:10,borderRadius:4}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,style:{border:'1px solid grey',padding:1,backgroundColor:'white',height:160,borderRadius:4}},/*#__PURE__*/React.createElement(InputLabelCustom,{label:'Số tiền',value:sotienthanhtoan,onChange:function onChange(e){return setsotienthanhtoan(e.target.value);},customstyle:null,multiline:false,rowsMax:1,type:\"number\"}),/*#__PURE__*/React.createElement(FormControlLabel,{fullWidth:true//className={classes.formControl}\n,label:/*#__PURE__*/React.createElement(Typography,{style:{marginLeft:10,width:110,fontFamily:'sans-serif',fontSize:12,alignSelf:\"flex-start\",paddingLeft:0,textAlign:'start'}},\"H\\xECnh th\\u1EE9c thanh to\\xE1n\"),style:{margin:5},labelPlacement:\"start\",control:/*#__PURE__*/React.createElement(TextField,{select:true,size:\"small\",InputProps:{style:{fontSize:14,backgroundColor:'white'}},style:{width:250,marginLeft:10,fontSize:14,backgroundColor:'white'}//value={httt}\n,value:hinhthucthanhtoan,onChange:function onChange(e){return sethinhthucthanhtoan(e.target.value);},variant:\"outlined\"},httt.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{key:option.key,value:option.ht},option.ht);}))}),/*#__PURE__*/React.createElement(InputLabelCustom,{label:'Ghi chú',value:ghichu,onChange:function onChange(e){return setghichu(e.target.value);},customstyle:null,multiline:false,rowsMax:1})))))),/*#__PURE__*/React.createElement(DialogActions,{style:{border:'1px solid grey',flexDirection:'space-between'}},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setOpen(false);},color:\"secondary\"},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{onClick:handleSave,color:\"primary\"},\"Save\"))),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:12},color:\"textPrimary\",variant:\"body1\"},\"Ship th\\u1EADt: \",item.ShipThat.toLocaleString(undefined,{maximumFractionDigits:2}),\" \\u0111\"),/*#__PURE__*/React.createElement(Link,{href:'#',style:{fontSize:12,color:'green'},color:\"textPrimary\",variant:\"body1\",onClick:function onClick(){return setOpenDetails(true);}},\"\\u0110\\xE3 thanh to\\xE1n: \",dathanhtoan.toLocaleString(undefined,{maximumFractionDigits:2}),\" \\u0111\"),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:12,color:'red'},color:\"textPrimary\",variant:\"body1\"},\"N\\u1EE3: \",conno.toLocaleString(undefined,{maximumFractionDigits:2}),\" \\u0111\"),conno.toLocaleString(undefined,{maximumFractionDigits:2})<=0?/*#__PURE__*/React.createElement(\"div\",null,\"\\xA0\"):/*#__PURE__*/React.createElement(Link,{href:'#',onClick:function onClick(){return setOpen(true);}},\"Thanh to\\xE1n n\\u1EE3\"));};var list=function list(anchor){return/*#__PURE__*/React.createElement(\"div\",{className:clsx(classes.list,_defineProperty({},classes.fullList,anchor==='top'||anchor==='bottom')),role:\"presentation\"//   onClick={setopenside(false)}\n//   onKeyDown={setopenside(false)}\n},/*#__PURE__*/React.createElement(MAWB,{type:'editMAWB',item:selectedItem}));};var searchByDate=function searchByDate(){makeRemoteRequest();};return/*#__PURE__*/React.createElement(Card,Object.assign({className:clsx(classes.root,className)},rest),/*#__PURE__*/React.createElement(Dialog,{open:openViewChange,onClose:function onClose(){return setopenViewChange(false);},\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"L\\u1ECBch s\\u1EED s\\u1EEDa \\u0111\\u1ED5i th\\xF4ng tin \"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(DialogContentText,null,\"L\\u1ECBch s\\u1EED s\\u1EEDa \\u0111\\u1ED5i th\\xF4ng tin \\u0111\\u01A1n h\\xE0ng c\\u1EE7a kh\\xE1ch h\\xE0ng \",selectedItem.CustomerName),/*#__PURE__*/React.createElement(TableContainer,{component:Paper},/*#__PURE__*/React.createElement(Table,{className:classes.table,\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Ng\\xE0y t\\u1EA1o\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Kh\\xE1ch h\\xE0ng\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"\\u0110\\u1ECBa ch\\u1EC9\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"S\\u1ED1 \\u0110T\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"L\\u1EDDi ch\\xFAc\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Th\\u1EDDi gian xu\\u1EA5t h\\xE0ng\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"T\\u1ED5ng s\\u1ED1 ti\\u1EC1n\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Ship thu kh\\xE1ch\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Ship th\\u1EADt\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Y\\xEAu c\\u1EA7u\"),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},\"Ng\\u01B0\\u1EDDi s\\u1EEDa\"))),/*#__PURE__*/React.createElement(TableBody,null,lichsuthaydoi.map(function(row){return/*#__PURE__*/React.createElement(TableRow,{key:row.ID},/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},moment(row.Created).format('HH:MM'),\" - \",moment(row.Created).format('DD/MM/YYYY')),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.CustomerName),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.CustomerPhone),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.CustomerAddress),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.LoiChuc),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.Note),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.PriceTotal),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.ShipEstimate),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.ShipThat),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.DeliveryNote),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},row.ModifiedBy));}))))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setopenViewChange(false);},color:\"secondary\"},\"Tho\\xE1t\"))),/*#__PURE__*/React.createElement(Box,{mt:6,style:{backgroundColor:'#f4f6f8'}},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Box,{maxWidth:500,display:\"flex\",flexDirection:\"row\",style:{flex:1,marginRight:100}},/*#__PURE__*/React.createElement(TextField,{fullWidth:true,type:\"date\",InputProps:{startAdornment:/*#__PURE__*/React.createElement(Button,{style:{flex:1,color:\"grey\",backgroundColor:'white',marginRight:50,width:100,height:40,alignSelf:'center'},onClick:function onClick(){return searchByDate();}},/*#__PURE__*/React.createElement(SearchIcon,null))},onChange:function onChange(e){setsearchDate(e.target.value);},value:searchDate,placeholder:\"Search customer\",variant:\"outlined\"}),/*#__PURE__*/React.createElement(Button,{color:\"primary\",variant:\"contained\",style:{width:200,height:30,marginLeft:40}//onClick={() => setopenside(true)}\n,onClick:function onClick(){return searchByDate();}},\"T\\xECm ki\\u1EBFm\"))))),/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(Box,{minWidth:1050},/*#__PURE__*/React.createElement(Drawer,{anchor:\"right\",open:opensides,onClose:function onClose(){return setopenside(false);}},list('',data)),/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Kh\\xE1ch h\\xE0ng\"),/*#__PURE__*/React.createElement(TableCell,null,\"Th\\u1EDDi gian xu\\u1EA5t h\\xE0ng\"),/*#__PURE__*/React.createElement(TableCell,null,\"Chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng\"),/*#__PURE__*/React.createElement(TableCell,null,\"H\\xF3a \\u0111\\u01A1n\"),/*#__PURE__*/React.createElement(TableCell,null,\"Thanh to\\xE1n\"),/*#__PURE__*/React.createElement(TableCell,null,\"Sale\"),/*#__PURE__*/React.createElement(TableCell,null,\"Action\"))),/*#__PURE__*/React.createElement(Menu,{id:\"long-menu\",anchorEl:anchorEl,keepMounted:true,open:openMenu,onClose:handleCloseLongMenu,PaperProps:{style:{maxHeight:ITEM_HEIGHT*4.5,width:'20ch'}}},/*#__PURE__*/React.createElement(MenuItem,{onClick:handleCloseLongMenu},/*#__PURE__*/React.createElement(PrintInvoice,{item:selectedMenuItem})),/*#__PURE__*/React.createElement(MenuItem,{onClick:handleCloseLongMenu},/*#__PURE__*/React.createElement(Typography,{\"aria-label\":\"delete\"//aria-controls=\"long-menu\"\n//aria-haspopup=\"true\"\n,onClick:function onClick(){return deleteItem();}},\"Delete\"))),/*#__PURE__*/React.createElement(TableBody,null,data.slice(0,limit).map(function(item){return/*#__PURE__*/React.createElement(TableRow,{hover:true,key:item.ID,selected:selectedCustomerIds.indexOf(item.ID)!==-1},/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Box,{alignItems:\"center\",display:\"flex\"},/*#__PURE__*/React.createElement(Typography,{color:\"textPrimary\",variant:\"body1\",style:{fontSize:14,color:'blue'},onClick:function onClick(){setopenside(true);setSelectedItem(item);}},/*#__PURE__*/React.createElement(Link,{href:\"#\"},item.CustomerName))),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:12},color:\"textPrimary\",variant:\"body1\"},\"\\u0110T: \",item.CustomerPhone),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:12},color:\"textPrimary\",variant:\"body1\"},\"\\u0110\\u1ECBa ch\\u1EC9: \",item.CustomerAddress),item.OldId!==0?/*#__PURE__*/React.createElement(Link,{href:'#',style:{fontSize:12,color:'green'},color:\"textPrimary\",variant:\"body1\",onClick:function onClick(){getlichsu(item);setSelectedItem(item);setopenViewChange(true);}},\"L\\u1ECBch s\\u1EED s\\u1EEDa th\\xF4ng tin\"):/*#__PURE__*/React.createElement(\"div\",null,\"\\xA0\")),/*#__PURE__*/React.createElement(TableCell,null,item.Note),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Typography,{style:{fontSize:14},color:\"textPrimary\",variant:\"body1\"},\"Chi ti\\u1EBFt: \",item.Description),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:14},color:\"textPrimary\",variant:\"body1\"},\"L\\u1EDDi ch\\xFAc: \",item.LoiChuc),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:14},color:\"textPrimary\",variant:\"body1\"},\"Y\\xEAu c\\u1EA7u: \",item.DeliveryNote),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:14},color:\"textPrimary\",variant:\"body1\"},\"Ng\\xE0y \\u0111\\u1EB7t h\\xE0ng: \",moment(item.Created).format('HH:mm'),\" - \",moment(item.Created).format('DD/MM/YYYY'))),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Typography,{style:{fontSize:14},color:\"textPrimary\",variant:\"body1\"},\"Gi\\xE1: \",item.PriceTotal.toLocaleString()),/*#__PURE__*/React.createElement(Typography,{style:{fontSize:14},color:\"textPrimary\",variant:\"body1\"},\"Ph\\xED ship : \",item.ShipEstimate.toLocaleString())),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Payment,{item:item})),/*#__PURE__*/React.createElement(TableCell,null,item.UserId),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"more\",\"aria-controls\":\"long-menu\",\"aria-haspopup\":\"true\",onClick:function onClick(event){setAnchorEl(event.currentTarget);setSelectedMenuItem(item);}},/*#__PURE__*/React.createElement(MoreVertIcon,null))));}))))),/*#__PURE__*/React.createElement(TablePagination,{component:\"div\",count:data.length,onChangePage:handlePageChange,onChangeRowsPerPage:handleLimitChange,page:page,rowsPerPage:limit,rowsPerPageOptions:[5,10,25]}));};export default Results;","map":{"version":3,"sources":["C:/Users/chant/Desktop/Bakery_ReactjsSourceCode/src/views/customer/CustomerListView/Results.js"],"names":["React","useState","useEffect","clsx","moment","PerfectScrollbar","Avatar","Box","Card","Link","Table","TableBody","TableCell","TableHead","TablePagination","TableRow","Typography","makeStyles","MenuItem","Menu","Drawer","Button","TextField","FormControlLabel","DialogTitle","DialogContent","DialogContentText","DialogActions","Dialog","Grid","TableContainer","Paper","CardContent","SearchIcon","IconButton","MoreVertIcon","DeleteIcon","FullScreenDialog","PrintCenterDialog","LinkApi","GET","POST","PrintMAWB","InputLabelCustom","PrintInvoice","MAWB","useStyles","theme","root","avatar","marginRight","spacing","table","width","ITEM_HEIGHT","Results","className","newaddedOrder","customers","rest","classes","selectedCustomerIds","setSelectedCustomerIds","limit","setLimit","page","setPage","anchorEl","setAnchorEl","openMenu","Boolean","opendialog","setOpendialog","data","setData","selectedItem","setSelectedItem","opensides","setopenside","selectedMenuItem","setSelectedMenuItem","Date","format","substring","searchDate","setsearchDate","openViewChange","setopenViewChange","lichsuthaydoi","setlichsuthaydoi","makeRemoteRequest","order_getBydate","res","undefined","getlichsu","item","order_getLichSu","Code","handleSelectAll","event","newSelectedCustomerIds","target","checked","map","id","handleSelectOne","selectedIndex","indexOf","concat","slice","length","alert","handleLimitChange","value","handlePageChange","newPage","handleClick","console","log","currentTarget","handleCloseLongMenu","DeleteItem","orderz","ID","deleteItem","order_del","then","respon","window","location","reload","catch","error","Payment","open","setOpen","openDetails","setOpenDetails","now","toString","lastRefresh","setlastRefresh","sotienthanhtoan","setsotienthanhtoan","hinhthucthanhtoan","sethinhthucthanhtoan","dathanhtoan","setdathanhtoan","conno","setconno","ghichu","setghichu","itemPayed","setitemPayed","getItemPayment","order_getByOrderId","tongdathanhtoan","tienno","i","Amount","PriceTotal","paymentDetails","handleSave","infoPayment","newPay","pay_add","responsez","Number","updateOrder","string","infoOrder","CustomerName","CustomerPhone","CustomerAddress","Description","LoiChuc","ShipEstimate","ShipThat","DeliveryNote","Created","CreatedBy","Modified","ModifiedBy","Note","order_update","response","newOrder","httt","key","ht","OrderID","row","toLocaleString","Cashier","backgroundColor","borderRadius","height","paddingTop","border","padding","e","marginLeft","fontFamily","fontSize","alignSelf","paddingLeft","textAlign","margin","style","option","flexDirection","maximumFractionDigits","color","list","anchor","fullList","searchByDate","flex","startAdornment","maxHeight","OldId","UserId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport {\n  Avatar,\n  Box,\n  Card,\n  Link,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TablePagination,\n  TableRow,\n  Typography,\n  makeStyles,\n  MenuItem,\n  Menu,\n  Drawer,\n  Button,\n  TextField, FormControlLabel,\n  DialogTitle, DialogContent, DialogContentText, DialogActions, Dialog, Grid, TableContainer, Paper, CardContent\n} from '@material-ui/core';\nimport { SearchIcon } from '@material-ui/data-grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport FullScreenDialog from 'src/views/layout_docs/air_export/FreightListView/HAWB/FullScreenDialog';\nimport PrintCenterDialog from 'src/views/layout_docs/air_export/FreightListView/HAWB/PrintCenterDialog';\nimport { LinkApi } from 'src/utils/api/api-link';\nimport { GET, POST } from 'src/utils/api/method';\nimport PrintMAWB from 'src/views/layout_docs/air_export/FreightListView/PrintMAWB';\nimport { InputLabelCustom } from 'src/components/custom/inputtxt';\nimport PrintInvoice from './PrintInvoice';\nimport MAWB from './MAWB';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  avatar: {\n    marginRight: theme.spacing(2)\n  },\n  table:{\n    width: 600\n  }\n}));\nconst ITEM_HEIGHT = 48;\n\nconst Results = ({ className, newaddedOrder, customers, ...rest }) => {\n  const classes = useStyles();\n  const [selectedCustomerIds, setSelectedCustomerIds] = useState([]);\n  const [limit, setLimit] = useState(5);\n  const [page, setPage] = useState(0);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const openMenu = Boolean(anchorEl);\n  const [opendialog, setOpendialog] = React.useState(false);\n  const [data, setData] = useState([]);\n  const [selectedItem, setSelectedItem] = useState([]);\n  const [opensides, setopenside] = useState(false);\n  const [selectedMenuItem, setSelectedMenuItem] = useState(null);\n  const [searchDate, setsearchDate] = useState(moment(new Date(), 'YYYY-MM-DD').format().substring(0, 10));\n  const [openViewChange, setopenViewChange] = React.useState(false);\n  const [lichsuthaydoi, setlichsuthaydoi] = useState([]);\n\n  useEffect(() => {    \n    makeRemoteRequest();\n  }, []); \n  const makeRemoteRequest = async () => {\n    let res=await GET(LinkApi.order_getBydate + searchDate)\n    if (res!==undefined) {\n      setData(res)\n     // setLoading(false);\n      //setRefreshing(false);\n      //setData(page === 1 ? res : [...data, ...res]);\n      //setpagesize(res.length)}else{\n      //setLoading(false)\n    }\n    /*setLoading(true)\n    const staffId =await AsyncStorage.getItem('staffId')\n     var url=''\n    if(type==='totrinhnhan'){\n      url = urlAPI.totrinhNhanGetallPaging + `key=&status=-1&staffid=${staffId}&xem=-1&page=${page}&size=30`\n    }if(type==='totrinhgui'){\n       url = urlAPI.totrinhGuiGetallPaging + `key=&status=-1&staffid=${staffId}&xem=-1&page=${page}&size=30`\n    }\n  let hh =POST('http://103.114.104.246:8080/api-cargo-cs/api/login', \n    {\n      userName:\"admin\",\n      password:\"12345\"\n    })\n    const url = LinkApi.order_getall; \n    await fetch(url)\n        .then(res => res.json()) \n        .then(res => {\n         console.log(res);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n\n    /*if (res!==null) {\n      setLoading(false);\n      setRefreshing(false);\n      setData(page === 1 ? res : [...data, ...res]);\n      setpagesize(res.length)}else{\n      setLoading(false)\n    }\n    //\n\n    \n  /*  const url = `https://5f8abf3a84531500167061c7.mockapi.io/api/vbd/trichYeu?page=${page}&limit=1`;\n    setLoading(true);\n   // fetch(props.url)\n    fetch(url)\n        .then(res => res.json())\n        .then(res => {\n         // alert(res.length)\n          setLoading(false);\n          setRefreshing(false);\n          setError(res.error || null);\n          setData( page === 1 ? res : [...data, ...res]);\n          setpagesize(res.length)\n            //alert(data)\n        })\n        .catch(error => {\n           setLoading(false)\n        });*/\n};\n\n  const getlichsu = async (item) => {\n    let res=await GET(LinkApi.order_getLichSu + item.Code)\n    if (res!==undefined) {\n      setlichsuthaydoi(res)\n    }\n  };\n\n\n  const handleSelectAll = (event) => {\n    let newSelectedCustomerIds;\n\n    if (event.target.checked) {\n      newSelectedCustomerIds = data.map((item) => item.id);\n    } else {\n      newSelectedCustomerIds = [];\n    }\n\n    setSelectedCustomerIds(newSelectedCustomerIds);\n  };\n\n  const handleSelectOne = (event, id) => {\n    const selectedIndex = selectedCustomerIds.indexOf(id);\n    let newSelectedCustomerIds = [];\n\n    if (selectedIndex === -1) {\n      newSelectedCustomerIds = newSelectedCustomerIds.concat(selectedCustomerIds, id);\n    } else if (selectedIndex === 0) {\n      newSelectedCustomerIds = newSelectedCustomerIds.concat(selectedCustomerIds.slice(1));\n    } else if (selectedIndex === selectedCustomerIds.length - 1) {\n      newSelectedCustomerIds = newSelectedCustomerIds.concat(selectedCustomerIds.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelectedCustomerIds = newSelectedCustomerIds.concat(\n        selectedCustomerIds.slice(0, selectedIndex),\n        selectedCustomerIds.slice(selectedIndex + 1)\n      );\n    }\n    alert(newSelectedCustomerIds)\n    setSelectedCustomerIds(newSelectedCustomerIds);\n  };\n\n  const handleLimitChange = (event) => {\n    setLimit(event.target.value);\n  };\n\n  const handlePageChange = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleClick = ({event}) => {\n    console.log(event)\n    setAnchorEl(event.currentTarget);\n  };\n\n\n  const handleCloseLongMenu = () => {\n    setAnchorEl(null);\n  };\n  const DeleteItem = ({orderz}) => {\n    return <div onClick={() => alert(orderz.ID)}>Delete</div>\n  };\n  const deleteItem = async () => {\n    //setAnchorEl(null);\n    //alert(selectedDeleteItem)\n    await GET(LinkApi.order_del+selectedMenuItem.ID)\n        .then(respon => {\n          console.log(\"respon:\", respon)\n          if (respon===\"SUCCESS\") {\n           window.location.reload()\n           setAnchorEl(null);\n          }\n        })\n        .catch(error => console.log(error));\n      };\n  \n  const Payment = ({item}) => {\n    const [open, setOpen] = React.useState(false);\n    const [openDetails, setOpenDetails] = React.useState(false);\n    const [lastRefresh, setlastRefresh] = useState(Date(Date.now()).toString());\n    const [sotienthanhtoan, setsotienthanhtoan] = useState(null);\n    const [hinhthucthanhtoan, sethinhthucthanhtoan] = useState('Tiền mặt');\n    const [dathanhtoan, setdathanhtoan] = useState('');\n    const [conno, setconno] = useState('');\n    const [ghichu, setghichu] = useState('');\n    const [itemPayed, setitemPayed] = useState([]);\n    useEffect(() => {   \n      console.log(item) \n      getItemPayment();\n    }, []); \n    const getItemPayment = async () => {\n      await GET(LinkApi.order_getByOrderId+item.ID)\n        .then(respon => {\n          setitemPayed(respon)\n          //setlistPay(respon);\n          //setlastRefresh(Date(Date.now()).toString()) \n          let tongdathanhtoan=0;\n          let tienno=0;\n          for (let i=0; i< respon.length; i++) {\n            tongdathanhtoan=respon[i].Amount+tongdathanhtoan;\n            tienno=item.PriceTotal-tongdathanhtoan;\n          }\n          setdathanhtoan(tongdathanhtoan)\n          setconno(tienno);\n          //console.log(\"OK\", respon) \n        });\n      //  \n    }    \n\n    const paymentDetails = () => {\n      \n    }\n    const handleSave = () => {\n      const infoPayment={\n        \"OrderId\": item.ID,\n        \"PaymentType\": hinhthucthanhtoan==='Tiền mặt' ? 1 : 0,\n        \"Amount\": sotienthanhtoan,\n        \"PayDate\": moment(new Date(), 'DD-MM-YYYY').format().substring(0, 10)+\" \"+ moment(new Date(), 'DD-MM-YYYY').format().substring(11, 19),\n        \"Cashier\": \"Bưởi\",\n        \"Created\": moment(new Date(), 'DD-MM-YYYY').format().substring(0, 10)+\" \"+ moment(new Date(), 'DD-MM-YYYY').format().substring(11, 19),\n        \"CreatedBy\": 1,\n        \"Modified\": null,\n        \"ModifiedBy\": 0,\n        \"Note\": ghichu,\n        \"OldId\": \"\"\n        };\n        let newPay= POST(LinkApi.pay_add, infoPayment)\n      .then(responsez => window.location.reload())\n      .catch(error => alert('error', error))\n      if (Number(sotienthanhtoan) >= Number(conno)) {\n        updateOrder('hetno')\n      }\n      //setOpen(false);\n    };\n    const updateOrder = async (string) => {\n      const infoOrder={\n        \"ID\":item.ID,\n        \"Code\": item.Code,\n        //\"CustomerId\": 1,\n        \"CustomerName\": item.CustomerName,\n        \"CustomerPhone\": item.CustomerPhone,\n        \"CustomerAddress\": item.CustomerAddress,\n        \"UserId\": 1,\n        \"Description\": item.Description,\n        \"LoiChuc\": item.LoiChuc,\n        \"PriceTotal\": item.PriceTotal,\n        \"IsConNo\": string==='hetno'?'0':'1',\n        \"ShipEstimate\": item.ShipEstimate,\n        \"ShipThat\": item.ShipThat,\n        \"DeliveryNote\": item.DeliveryNote,\n        \"Created\": item.Created,\n        \"CreatedBy\": item.CreatedBy,\n        \"Modified\": item.Modified,\n        \"ModifiedBy\": item.ModifiedBy,\n        \"Note\": item.Note,\n        };\n        let newOrder= await POST(LinkApi.order_update, infoOrder)\n        .then(response => {\n          alert(\"luu thong tin thanh cong\")\n        })\n        .catch(error => console.log('error2', error))  \n    };\n  const httt=[{ key: 1, ht: \"Tiền mặt\"}, {key: 2, ht: 'Chuyển khoản'}]\n    return (\n      <div>\n        <Dialog style={{width: 800}} open={openDetails} onClose={() => setOpenDetails(false)} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">Thanh toán đơn hàng </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Các khoản thanh toán cho đơn hàng số {item.OrderID} của khách hàng {item.CustomerName}\n            </DialogContentText>\n            <TableContainer component={Paper}>\n              <Table aria-label=\"simple table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Số tiền</TableCell>\n                    <TableCell align=\"center\">Thu ngân</TableCell>\n                    <TableCell align=\"center\">Ngày</TableCell>\n                    <TableCell align=\"center\">Người tạo</TableCell>\n                    <TableCell align=\"center\">Ghi chú</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {itemPayed.map((row) => (\n                    <TableRow key={row.ID}>\n                      <TableCell component=\"th\" scope=\"row\">\n                        {row.Amount.toLocaleString()}\n                      </TableCell>\n                      <TableCell align=\"right\">{row.Cashier}</TableCell>\n                      <TableCell align=\"right\">{moment(row.Created).format('HH:MM')} - {moment(row.Created).format('DD/MM/YYYY')}</TableCell>\n                      <TableCell align=\"right\">{row.CreatedBy}</TableCell>\n                      <TableCell align=\"right\">{row.Note}</TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setOpenDetails(false)} color=\"secondary\">\n              Thoát\n            </Button>\n          </DialogActions>\n        </Dialog>\n        \n        <Dialog open={open} onClose={() => setOpen(false)} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">Thanh toán đơn hàng </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Thanh toán cho đơn hàng số {item.OrderID} của khách hàng {item.CustomerName}\n            </DialogContentText>\n            <DialogContentText>\n              Số tiền còn nợ: {conno.toLocaleString()} đ &nbsp;&nbsp;&nbsp;&nbsp;\n              <Link href={\"#\"} onClick={() => setsotienthanhtoan(conno)}>Copy</Link>\n            </DialogContentText>\n            <Grid container spacing={1} justify=\"center\" alignItems=\"center\">        \n              <Grid item xs={12} style={{ backgroundColor: '', borderRadius: 4 }}>        \n                <Grid item xs={12} style={{ height: 250, backgroundColor: '', paddingTop: 10, borderRadius: 4 }}>\n                  <Grid item xs={12} style={{ border: '1px solid grey', padding: 1, backgroundColor: 'white', height: 160, borderRadius: 4 }}>\n                    <InputLabelCustom label={'Số tiền'} value={sotienthanhtoan} onChange={e => setsotienthanhtoan(e.target.value)} \n                      customstyle={null} multiline={false} rowsMax={1} type=\"number\" /> \n                    <FormControlLabel\n                      fullWidth\n                      //className={classes.formControl}\n                      label={<Typography style={{ marginLeft: 10, width: 110, fontFamily: 'sans-serif', fontSize: 12, alignSelf: \"flex-start\", paddingLeft: 0, textAlign: 'start', }}>Hình thức thanh toán</Typography>}\n                      style={{ margin: 5, }}\n                      labelPlacement=\"start\"\n                      control={(             \n                        <TextField\n                          select\n                          size=\"small\"\n                          InputProps={{ style: { fontSize: 14, backgroundColor: 'white' } }}\n                          style={{ width: 250, marginLeft: 10, fontSize: 14, backgroundColor: 'white' }}\n                          //value={httt}\n                          value={hinhthucthanhtoan}\n                          onChange={e => sethinhthucthanhtoan(e.target.value)} \n                          variant=\"outlined\"\n                        >\n                          {httt.map((option) => (\n                            <MenuItem key={option.key} value={option.ht}>\n                              {option.ht}\n                            </MenuItem>\n                          ))}\n                        </TextField>\n                      )}\n                    />\n                    <InputLabelCustom label={'Ghi chú'} value={ghichu} onChange={e => setghichu(e.target.value)} \n                      customstyle={null} multiline={false} rowsMax={1} />\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </DialogContent>\n          <DialogActions style={{ border: '1px solid grey', flexDirection: 'space-between'}}>\n            <Button onClick={() => setOpen(false)} color=\"secondary\">\n              Cancel\n            </Button>\n            <Button onClick={handleSave} color=\"primary\">\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <Typography\n          style={{ fontSize: 12 }}\n          color=\"textPrimary\"\n          variant=\"body1\"\n        >\n          Ship thật: {item.ShipThat.toLocaleString(undefined, {maximumFractionDigits:2})} đ\n        </Typography>\n        <Link\n          href={'#'}\n          style={{ fontSize: 12, color: 'green' }}\n          color=\"textPrimary\"\n          variant=\"body1\"\n          onClick={() => setOpenDetails(true)}\n        >\n          Đã thanh toán: {dathanhtoan.toLocaleString(undefined, {maximumFractionDigits:2})} đ\n        </Link>\n        <Typography\n          style={{ fontSize: 12, color: 'red' }}\n          color=\"textPrimary\"\n          variant=\"body1\"\n        >\n          Nợ: {conno.toLocaleString(undefined, {maximumFractionDigits:2})} đ \n        </Typography>\n        {\n          conno.toLocaleString(undefined, {maximumFractionDigits:2})<=0\n          ?<div>&nbsp;</div>\n          :<Link href={'#'} onClick={() => setOpen(true)}>Thanh toán nợ</Link>  \n        }\n      </div>\n    )\n  }\n\n  const list = (anchor) => (\n    <div\n      className={clsx(classes.list, {\n        [classes.fullList]: anchor === 'top' || anchor === 'bottom',\n      })}\n      role=\"presentation\"\n   //   onClick={setopenside(false)}\n   //   onKeyDown={setopenside(false)}\n    >\n      <MAWB type={'editMAWB'} item={selectedItem} />\n    </div>\n  );\n  \n  const searchByDate = () => {\n    makeRemoteRequest()\n    };\n\n  return (\n    <Card\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n\n      <Dialog open={openViewChange} onClose={() => setopenViewChange(false)} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Lịch sử sửa đổi thông tin </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Lịch sử sửa đổi thông tin đơn hàng của khách hàng {selectedItem.CustomerName}\n          </DialogContentText>\n          <TableContainer component={Paper}>\n            <Table className={classes.table} aria-label=\"simple table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">Ngày tạo</TableCell>\n                  <TableCell align=\"center\">Khách hàng</TableCell>\n                  <TableCell align=\"center\">Địa chỉ</TableCell>\n                  <TableCell align=\"center\">Số ĐT</TableCell>\n                  <TableCell align=\"center\">Lời chúc</TableCell>\n                  <TableCell align=\"center\">Thời gian xuất hàng</TableCell>\n                  <TableCell align=\"center\">Tổng số tiền</TableCell>\n                  <TableCell align=\"center\">Ship thu khách</TableCell>\n                  <TableCell align=\"center\">Ship thật</TableCell>\n                  <TableCell align=\"center\">Yêu cầu</TableCell>\n                  <TableCell align=\"center\">Người sửa</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {lichsuthaydoi.map((row) => (\n                  <TableRow key={row.ID}>\n                    <TableCell align=\"right\">{moment(row.Created).format('HH:MM')} - {moment(row.Created).format('DD/MM/YYYY')}</TableCell>\n                    <TableCell align=\"right\">{row.CustomerName}</TableCell>\n                    <TableCell align=\"right\">{row.CustomerPhone}</TableCell>\n                    <TableCell align=\"right\">{row.CustomerAddress}</TableCell>\n                    <TableCell align=\"right\">{row.LoiChuc}</TableCell>\n                    <TableCell align=\"right\">{row.Note}</TableCell>\n                    <TableCell align=\"right\">{row.PriceTotal}</TableCell>\n                    <TableCell align=\"right\">{row.ShipEstimate}</TableCell>\n                    <TableCell align=\"right\">{row.ShipThat}</TableCell>\n                    <TableCell align=\"right\">{row.DeliveryNote}</TableCell>\n                    <TableCell align=\"right\">{row.ModifiedBy}</TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setopenViewChange(false)} color=\"secondary\">\n            Thoát\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Box mt={6} style={{backgroundColor: '#f4f6f8'}}>\n        <Card>\n          <CardContent>\n            <Box maxWidth={500} display=\"flex\" flexDirection=\"row\" style={{ flex: 1, marginRight: 100 }}>\n              <TextField\n                fullWidth\n                type=\"date\"\n                InputProps={{\n                  startAdornment: (\n                    <Button\n                      style={{ flex: 1, color: \"grey\", backgroundColor: 'white', marginRight: 50, width: 100, height: 40, alignSelf: 'center' }}\n                      onClick={() => searchByDate()}\n                    >\n                      <SearchIcon />\n                    </Button>\n                  )\n                }}\n                onChange={e => {setsearchDate(e.target.value);}}\n                value={searchDate}\n                placeholder=\"Search customer\"\n                variant=\"outlined\"\n              />\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                style={{ width: 200, height: 30, marginLeft: 40}}\n                //onClick={() => setopenside(true)}\n                onClick={() => searchByDate()}\n              >\n                Tìm kiếm\n              </Button>\n                \n            </Box>\n          </CardContent>\n        </Card>\n      </Box>\n      <PerfectScrollbar>\n        <Box minWidth={1050}>\n\n          <Drawer anchor=\"right\" open={opensides} onClose={() => setopenside(false)}>\n            {list('', data)}\n          </Drawer>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>\n                  Khách hàng\n                </TableCell>\n                <TableCell>\n                  Thời gian xuất hàng\n                </TableCell>\n                <TableCell>\n                  Chi tiết đơn hàng\n                </TableCell>\n                <TableCell>\n                  Hóa đơn\n                </TableCell>\n                <TableCell>\n                  Thanh toán\n                </TableCell>\n                <TableCell>\n                  Sale\n                </TableCell>\n                <TableCell>\n                  Action\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <Menu\n              id=\"long-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={openMenu}\n              onClose={handleCloseLongMenu}\n              PaperProps={{\n                style: {\n                  maxHeight: ITEM_HEIGHT * 4.5,\n                  width: '20ch',\n                },\n              }}\n            >\n              <MenuItem onClick={handleCloseLongMenu}>\n                <PrintInvoice item={selectedMenuItem} />\n              </MenuItem>\n              <MenuItem onClick={handleCloseLongMenu}>\n                <Typography\n                  aria-label=\"delete\"\n                  //aria-controls=\"long-menu\"\n                  //aria-haspopup=\"true\"\n                  onClick={() => deleteItem()}\n                >\n                  Delete\n                </Typography>\n              </MenuItem>\n            </Menu>\n            <TableBody>\n              {data.slice(0, limit).map((item) => (\n                <TableRow\n                  hover\n                  key={item.ID}\n                  selected={selectedCustomerIds.indexOf(item.ID) !== -1}\n                >\n                  <TableCell>\n                    <Box\n                      alignItems=\"center\"\n                      display=\"flex\"\n                    >\n                      <Typography\n                        color=\"textPrimary\"\n                        variant=\"body1\"\n                        style={{ fontSize: 14, color: 'blue' }}\n                        onClick={() => {\n                          setopenside(true)\n                          setSelectedItem(item)\n                        }}\n                      >\n                        <Link href=\"#\">\n                          {item.CustomerName}\n                        </Link>\n                      </Typography>\n                    </Box>\n                    <Typography\n                      style={{ fontSize: 12 }}\n                      color=\"textPrimary\"\n                      variant=\"body1\"\n                    >\n                      ĐT: {item.CustomerPhone}\n                    </Typography>\n                    <Typography\n                      style={{ fontSize: 12 }}\n                      color=\"textPrimary\"\n                      variant=\"body1\"\n                    >\n                      Địa chỉ: {item.CustomerAddress}\n                    </Typography>\n                    {item.OldId!==0\n                    ?(\n                      <Link\n                        href={'#'}\n                        style={{ fontSize: 12, color: 'green' }}\n                        color=\"textPrimary\"\n                        variant=\"body1\"\n                        onClick={() => {\n                          getlichsu(item);\n                          setSelectedItem(item);\n                          setopenViewChange(true);\n                        }}\n                      >\n                        Lịch sử sửa thông tin\n                      </Link>\n                      )\n                    :<div>&nbsp;</div>}\n                  </TableCell>\n                  <TableCell>\n                    {item.Note}\n                  </TableCell>\n                  <TableCell>\n                    <Typography\n                      style={{ fontSize: 14 }}\n                      color=\"textPrimary\"\n                      variant=\"body1\"\n                    >\n                      Chi tiết: {item.Description}\n                    </Typography>\n                    <Typography\n                      style={{ fontSize: 14 }}\n                      color=\"textPrimary\"\n                      variant=\"body1\"\n                    >\n                      Lời chúc: {item.LoiChuc}\n                    </Typography>\n                    <Typography\n                      style={{ fontSize: 14 }}\n                      color=\"textPrimary\"\n                      variant=\"body1\"\n                    >\n                      Yêu cầu: {item.DeliveryNote}\n                    </Typography>\n                    <Typography\n                      style={{ fontSize: 14 }}\n                      color=\"textPrimary\"\n                      variant=\"body1\"\n                    >\n                      Ngày đặt hàng: {moment(item.Created).format('HH:mm')} - {moment(item.Created).format('DD/MM/YYYY')}\n                    </Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Typography\n                      style={{ fontSize: 14 }}\n                      color=\"textPrimary\"\n                      variant=\"body1\"\n                    >\n                      Giá: {item.PriceTotal.toLocaleString()}\n                    </Typography>\n                    <Typography\n                      style={{ fontSize: 14 }}\n                      color=\"textPrimary\"\n                      variant=\"body1\"\n                    >\n                      Phí ship : {item.ShipEstimate.toLocaleString()}\n                    </Typography>\n                  </TableCell>\n                  <TableCell>\n                    <Payment item={item} />\n                  </TableCell>\n                  <TableCell>\n                    {item.UserId}\n                  </TableCell>\n                  <TableCell>\n                    <IconButton\n                      aria-label=\"more\"\n                      aria-controls=\"long-menu\"\n                      aria-haspopup=\"true\"\n                      onClick={(event) => {\n                        setAnchorEl(event.currentTarget);\n                        setSelectedMenuItem(item)\n                      }}\n                    >\n                      <MoreVertIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </Box>\n      </PerfectScrollbar>\n      <TablePagination\n        component=\"div\"\n        count={data.length}\n        onChangePage={handlePageChange}\n        onChangeRowsPerPage={handleLimitChange}\n        page={page}\n        rowsPerPage={limit}\n        rowsPerPageOptions={[5, 10, 25]}\n      />\n    </Card>\n  );\n};\n\nResults.propTypes = {\n  className: PropTypes.string,\n  customers: PropTypes.array.isRequired,\n  orderz: PropTypes.object\n};\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}